{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{io}from\"socket.io-client\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const socket=io(\"https://blackjack-api-l0ne.onrender.com\");function getCardImg(card){return`/cards/${card}.png`;}export default function App(){const[gameId,setGameId]=useState(\"\");const[playerName,setPlayerName]=useState(\"\");const[joined,setJoined]=useState(false);const[gameState,setGameState]=useState(null);useEffect(()=>{socket.on(\"update\",data=>setGameState(data));},[]);const createGame=()=>{socket.emit(\"create_game\",{playerName},_ref=>{let{gameId,gameState}=_ref;setGameId(gameId);setGameState(gameState);setJoined(true);});};const joinGame=()=>{socket.emit(\"join_game\",{gameId,playerName},_ref2=>{let{gameState}=_ref2;setGameState(gameState);setJoined(true);});};const sendMove=move=>{socket.emit(\"move\",{gameId,move},_ref3=>{let{gameState}=_ref3;return setGameState(gameState);});};if(!joined){return/*#__PURE__*/_jsxs(\"div\",{className:\"lobby\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83C\\uDCCF Blackjack\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Ditt namn\",value:playerName,onChange:e=>setPlayerName(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:createGame,children:\"\\uD83C\\uDFB2 Skapa spel\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Spel-ID\",value:gameId,onChange:e=>setGameId(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:joinGame,children:\"\\uD83D\\uDD17 G\\xE5 med i spel\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"table\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Spel-ID: \",gameId]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dealer\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Dealer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cards\",children:gameState===null||gameState===void 0?void 0:gameState.dealer.hand.map((card,i)=>/*#__PURE__*/_jsx(\"img\",{src:getCardImg(card),className:\"card\",alt:card},i))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"players\",children:gameState===null||gameState===void 0?void 0:gameState.players.map(p=>/*#__PURE__*/_jsxs(\"div\",{className:\"player\",children:[/*#__PURE__*/_jsx(\"h4\",{children:p.name}),/*#__PURE__*/_jsx(\"div\",{className:\"cards\",children:p.hand.map((card,i)=>/*#__PURE__*/_jsx(\"img\",{src:getCardImg(card),className:\"card\",alt:card},i))}),/*#__PURE__*/_jsxs(\"div\",{className:\"chips\",children:[\"\\uD83D\\uDCB0 \",p.bet]})]},p.socketId))}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>sendMove(\"hit\"),children:\"Hit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>sendMove(\"stand\"),children:\"Stand\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>sendMove(\"double\"),children:\"Double\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>sendMove(\"split\"),children:\"Split\"})]})]});}","map":{"version":3,"names":["React","useState","useEffect","io","jsx","_jsx","jsxs","_jsxs","socket","getCardImg","card","App","gameId","setGameId","playerName","setPlayerName","joined","setJoined","gameState","setGameState","on","data","createGame","emit","_ref","joinGame","_ref2","sendMove","move","_ref3","className","children","placeholder","value","onChange","e","target","onClick","dealer","hand","map","i","src","alt","players","p","name","bet","socketId"],"sources":["C:/Users/olive/Desktop/bj-fix/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { io } from \"socket.io-client\";\nimport \"./App.css\";\n\nconst socket = io(\"https://blackjack-api-l0ne.onrender.com\");\n\nfunction getCardImg(card) {\n  return `/cards/${card}.png`;\n}\n\nexport default function App() {\n  const [gameId, setGameId] = useState(\"\");\n  const [playerName, setPlayerName] = useState(\"\");\n  const [joined, setJoined] = useState(false);\n  const [gameState, setGameState] = useState(null);\n\n  useEffect(() => {\n    socket.on(\"update\", (data) => setGameState(data));\n  }, []);\n\n  const createGame = () => {\n    socket.emit(\"create_game\", { playerName }, ({ gameId, gameState }) => {\n      setGameId(gameId);\n      setGameState(gameState);\n      setJoined(true);\n    });\n  };\n\n  const joinGame = () => {\n    socket.emit(\"join_game\", { gameId, playerName }, ({ gameState }) => {\n      setGameState(gameState);\n      setJoined(true);\n    });\n  };\n\n  const sendMove = (move) => {\n    socket.emit(\"move\", { gameId, move }, ({ gameState }) => setGameState(gameState));\n  };\n\n  if (!joined) {\n    return (\n      <div className=\"lobby\">\n        <h1>üÉè Blackjack</h1>\n        <input placeholder=\"Ditt namn\" value={playerName} onChange={(e) => setPlayerName(e.target.value)} />\n        <button onClick={createGame}>üé≤ Skapa spel</button>\n        <input placeholder=\"Spel-ID\" value={gameId} onChange={(e) => setGameId(e.target.value)} />\n        <button onClick={joinGame}>üîó G√• med i spel</button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"table\">\n      <h2>Spel-ID: {gameId}</h2>\n      <div className=\"dealer\">\n        <h3>Dealer</h3>\n        <div className=\"cards\">\n          {gameState?.dealer.hand.map((card, i) => (\n            <img src={getCardImg(card)} className=\"card\" key={i} alt={card} />\n          ))}\n        </div>\n      </div>\n\n      <div className=\"players\">\n        {gameState?.players.map((p) => (\n          <div className=\"player\" key={p.socketId}>\n            <h4>{p.name}</h4>\n            <div className=\"cards\">\n              {p.hand.map((card, i) => (\n                <img src={getCardImg(card)} className=\"card\" key={i} alt={card} />\n              ))}\n            </div>\n            <div className=\"chips\">üí∞ {p.bet}</div>\n          </div>\n        ))}\n      </div>\n\n      <div className=\"controls\">\n        <button onClick={() => sendMove(\"hit\")}>Hit</button>\n        <button onClick={() => sendMove(\"stand\")}>Stand</button>\n        <button onClick={() => sendMove(\"double\")}>Double</button>\n        <button onClick={() => sendMove(\"split\")}>Split</button>\n      </div>\n    </div>\n  );\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,EAAE,KAAQ,kBAAkB,CACrC,MAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnB,KAAM,CAAAC,MAAM,CAAGL,EAAE,CAAC,yCAAyC,CAAC,CAE5D,QAAS,CAAAM,UAAUA,CAACC,IAAI,CAAE,CACxB,MAAO,UAAUA,IAAI,MAAM,CAC7B,CAEA,cAAe,SAAS,CAAAC,GAAGA,CAAA,CAAG,CAC5B,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACa,UAAU,CAAEC,aAAa,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACe,MAAM,CAAEC,SAAS,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CAC3C,KAAM,CAACiB,SAAS,CAAEC,YAAY,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CAEhDC,SAAS,CAAC,IAAM,CACdM,MAAM,CAACY,EAAE,CAAC,QAAQ,CAAGC,IAAI,EAAKF,YAAY,CAACE,IAAI,CAAC,CAAC,CACnD,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvBd,MAAM,CAACe,IAAI,CAAC,aAAa,CAAE,CAAET,UAAW,CAAC,CAAEU,IAAA,EAA2B,IAA1B,CAAEZ,MAAM,CAAEM,SAAU,CAAC,CAAAM,IAAA,CAC/DX,SAAS,CAACD,MAAM,CAAC,CACjBO,YAAY,CAACD,SAAS,CAAC,CACvBD,SAAS,CAAC,IAAI,CAAC,CACjB,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAQ,QAAQ,CAAGA,CAAA,GAAM,CACrBjB,MAAM,CAACe,IAAI,CAAC,WAAW,CAAE,CAAEX,MAAM,CAAEE,UAAW,CAAC,CAAEY,KAAA,EAAmB,IAAlB,CAAER,SAAU,CAAC,CAAAQ,KAAA,CAC7DP,YAAY,CAACD,SAAS,CAAC,CACvBD,SAAS,CAAC,IAAI,CAAC,CACjB,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAU,QAAQ,CAAIC,IAAI,EAAK,CACzBpB,MAAM,CAACe,IAAI,CAAC,MAAM,CAAE,CAAEX,MAAM,CAAEgB,IAAK,CAAC,CAAEC,KAAA,MAAC,CAAEX,SAAU,CAAC,CAAAW,KAAA,OAAK,CAAAV,YAAY,CAACD,SAAS,CAAC,GAAC,CACnF,CAAC,CAED,GAAI,CAACF,MAAM,CAAE,CACX,mBACET,KAAA,QAAKuB,SAAS,CAAC,OAAO,CAAAC,QAAA,eACpB1B,IAAA,OAAA0B,QAAA,CAAI,wBAAY,CAAI,CAAC,cACrB1B,IAAA,UAAO2B,WAAW,CAAC,WAAW,CAACC,KAAK,CAAEnB,UAAW,CAACoB,QAAQ,CAAGC,CAAC,EAAKpB,aAAa,CAACoB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAE,CAAC,cACpG5B,IAAA,WAAQgC,OAAO,CAAEf,UAAW,CAAAS,QAAA,CAAC,yBAAa,CAAQ,CAAC,cACnD1B,IAAA,UAAO2B,WAAW,CAAC,SAAS,CAACC,KAAK,CAAErB,MAAO,CAACsB,QAAQ,CAAGC,CAAC,EAAKtB,SAAS,CAACsB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAE,CAAC,cAC1F5B,IAAA,WAAQgC,OAAO,CAAEZ,QAAS,CAAAM,QAAA,CAAC,+BAAgB,CAAQ,CAAC,EACjD,CAAC,CAEV,CAEA,mBACExB,KAAA,QAAKuB,SAAS,CAAC,OAAO,CAAAC,QAAA,eACpBxB,KAAA,OAAAwB,QAAA,EAAI,WAAS,CAACnB,MAAM,EAAK,CAAC,cAC1BL,KAAA,QAAKuB,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrB1B,IAAA,OAAA0B,QAAA,CAAI,QAAM,CAAI,CAAC,cACf1B,IAAA,QAAKyB,SAAS,CAAC,OAAO,CAAAC,QAAA,CACnBb,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEoB,MAAM,CAACC,IAAI,CAACC,GAAG,CAAC,CAAC9B,IAAI,CAAE+B,CAAC,gBAClCpC,IAAA,QAAKqC,GAAG,CAAEjC,UAAU,CAACC,IAAI,CAAE,CAACoB,SAAS,CAAC,MAAM,CAASa,GAAG,CAAEjC,IAAK,EAAb+B,CAAe,CAClE,CAAC,CACC,CAAC,EACH,CAAC,cAENpC,IAAA,QAAKyB,SAAS,CAAC,SAAS,CAAAC,QAAA,CACrBb,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAE0B,OAAO,CAACJ,GAAG,CAAEK,CAAC,eACxBtC,KAAA,QAAKuB,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrB1B,IAAA,OAAA0B,QAAA,CAAKc,CAAC,CAACC,IAAI,CAAK,CAAC,cACjBzC,IAAA,QAAKyB,SAAS,CAAC,OAAO,CAAAC,QAAA,CACnBc,CAAC,CAACN,IAAI,CAACC,GAAG,CAAC,CAAC9B,IAAI,CAAE+B,CAAC,gBAClBpC,IAAA,QAAKqC,GAAG,CAAEjC,UAAU,CAACC,IAAI,CAAE,CAACoB,SAAS,CAAC,MAAM,CAASa,GAAG,CAAEjC,IAAK,EAAb+B,CAAe,CAClE,CAAC,CACC,CAAC,cACNlC,KAAA,QAAKuB,SAAS,CAAC,OAAO,CAAAC,QAAA,EAAC,eAAG,CAACc,CAAC,CAACE,GAAG,EAAM,CAAC,GAPZF,CAAC,CAACG,QAQ1B,CACN,CAAC,CACC,CAAC,cAENzC,KAAA,QAAKuB,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB1B,IAAA,WAAQgC,OAAO,CAAEA,CAAA,GAAMV,QAAQ,CAAC,KAAK,CAAE,CAAAI,QAAA,CAAC,KAAG,CAAQ,CAAC,cACpD1B,IAAA,WAAQgC,OAAO,CAAEA,CAAA,GAAMV,QAAQ,CAAC,OAAO,CAAE,CAAAI,QAAA,CAAC,OAAK,CAAQ,CAAC,cACxD1B,IAAA,WAAQgC,OAAO,CAAEA,CAAA,GAAMV,QAAQ,CAAC,QAAQ,CAAE,CAAAI,QAAA,CAAC,QAAM,CAAQ,CAAC,cAC1D1B,IAAA,WAAQgC,OAAO,CAAEA,CAAA,GAAMV,QAAQ,CAAC,OAAO,CAAE,CAAAI,QAAA,CAAC,OAAK,CAAQ,CAAC,EACrD,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}